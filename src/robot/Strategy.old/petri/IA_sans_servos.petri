<?xml version="1.0" encoding="utf-8"?>
<Document APIVersion="101">
  <Settings Name="IA2017" Enum="ResultatAction,REUSSI,RATE,BLOQUE,BLOQUE_PAR_ADV,TIMEOUT,POSITION_MODIFIEE" SourceOutputPath="../petri/src" LibOutputPath="../../../build" Hostname="localhost" Port="12346" Language="Cpp" RunInEditor="False" OutputType="DynamicLib">
    <Compiler Invocation="/usr/bin/g++" />
    <IncludePaths>
      <IncludePath Path="../../../petri" Recursive="false" />
      <IncludePath Path="../../../commun" Recursive="false" />
    </IncludePaths>
    <LibPaths />
    <Libs />
  </Settings>
  <Window X="59" Y="24" W="1861" H="1056" />
  <Headers>
    <Header File="Servo.h" />
    <Header File="Utils.h" />
    <Header File="Deplacement.h" />
  </Headers>
  <Macros />
  <PetriNet ID="0" Name="Root" X="0" Y="0" Active="true" RequiredTokens="0" Radius="30">
    <Comments>
      <Comment ID="1" Name="NORME DES NOMS DES MACROS&#xA;&#xA;* Stockage d'un cylindre : cyl[X;Y]&#xA;* Ranger dans les rails    : rail[45|0|-45]&#xA;* Poser dans la zone        : stockCyl&#xA;* Cylindres de la fusée    : fusee&#xA;* Prendre des boules       : boule[X;Y]&#xA;* Poser des boules           : stockBoul" X="170" Y="120" Width="296" Height="146" R="0.7" G="1" B="0.7" A="1" />
      <Comment ID="2" Name="SetVitessesLentes" X="1280" Y="150" Width="146" Height="27" R="1" G="0.7" B="0.7" A="1" />
      <Comment ID="3" Name="              ----- TO DO GENERAL -----&#xA;&#xA;macro pour les boules (refonte)&#xA;&#xA;en posant les cylindres dans les rails, gérer le cas où le robot est bloqué -&gt; rail plein" X="170" Y="340" Width="308" Height="129" R="0.7" G="0.7" B="1" A="1" />
      <Comment ID="4" Name="A mettre à la fin pour le fun" X="1020" Y="1040" Width="116" Height="44" R="1" G="1" B="0.7" A="1" />
      <Comment ID="5" Name="Récupération des différents cylindres" X="450" Y="50" Width="176" Height="44" R="1" G="1" B="0.7" A="1" />
      <Comment ID="6" Name="pose des différents cylindres (jusqu'à ce qu'il n'y en ait plus en stock)" X="940" Y="50" Width="202" Height="61" R="1" G="1" B="0.7" A="1" />
      <Comment ID="7" Name="attention decalage entre les deux" X="700" Y="70" Width="79" Height="78" R="1" G="0.7" B="0.7" A="1" />
      <Comment ID="8" Name="IA peu aggressive :&#xA;&#xA;* Prend le cylindre devant la base&#xA;* Prend les cylindres à côté + rail&#xA;* Pose le tout&#xA;* Va chercher chez l'adversaire&#xA;* Pose à la base&#xA;* Fusée&#xA;* Boules&#xA;" X="170" Y="580" Width="288" Height="180" R="1" G="1" B="0.7" A="1" />
      <Comment ID="9" Name="IA aggressive :&#xA;&#xA;* Prend le cylindre devant la base&#xA;* Va chercher chez l'adversaire&#xA;* Pose à la base&#xA;* Fusée&#xA;* Boules&#xA;" X="170" Y="750" Width="288" Height="146" R="1" G="1" B="0.7" A="1" />
      <Comment ID="10" Name="IA safe (Space Crackers) :&#xA;&#xA;* Prend le cylindre devant la base&#xA;* Prend les cylindres à côté + rail&#xA;* Pose le tout&#xA;* Fusée&#xA;* Boules&#xA;* Bloque le passage vers le rail" X="170" Y="910" Width="288" Height="146" R="1" G="1" B="0.7" A="1" />
    </Comments>
    <States>
      <Exit ID="11" Name="End" X="730" Y="910" Active="false" RequiredTokens="1" Radius="25" Function="avancerDe(60_cm, SensAvance::Avant)" />
      <PetriNet ID="12" Name="boules" X="2060" Y="970" Active="false" RequiredTokens="1" Radius="30">
        <Comments />
        <States>
          <Exit ID="39" Name="End" X="770" Y="370" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="40" Name="26" X="130" Y="330" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="41" Name="26" X="650" Y="250" Active="false" RequiredTokens="1" Radius="20" Function="$is_boules = 1" />
          <Action ID="42" Name="194" X="370" Y="310" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - boules&quot;)" />
          <Action ID="43" Name="334" X="670" Y="350" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="44" Name="270" X="190" Y="230" Active="false" RequiredTokens="1" Radius="20" Function="allerA(127_cm, 117_cm)" />
          <Action ID="45" Name="126" X="290" Y="130" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-180_deg)" />
          <Action ID="46" Name="608" X="470" Y="110" Active="false" RequiredTokens="1" Radius="20" Function="allerA(70_cm, 110_cm)" />
          <Action ID="47" Name="126" X="550" Y="130" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-45_deg)" />
          <PetriNetRef ID="48" Name="622" X="390" Y="100" Active="false" RequiredTokens="1" Radius="30" Path="Macros_2017/attraperBoules.petri" />
          <PetriNetRef ID="94" Name="465" X="610" Y="170" Active="false" RequiredTokens="1" Radius="30" Path="Macros_2017/attraperBoules.petri" />
        </States>
        <Transitions>
          <Transition ID="140" Name="30" X="391.36959687437525" Y="393.94001953515755" BeforeID="40" AfterID="43" Condition="$is_boules == 1" W="50" H="30" ShiftX="-8.6304031256247526" ShiftY="53.940019535157546" ShiftAmplitude="540.37024344425186" />
          <Transition ID="141" Name="335" X="520" Y="330" BeforeID="42" AfterID="43" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="302.65491900843114" />
          <Transition ID="142" Name="336" X="660" Y="298" BeforeID="41" AfterID="43" Condition="true" W="50" H="30" ShiftX="0" ShiftY="-2" ShiftAmplitude="101.9803902718557" />
          <Transition ID="143" Name="271" X="160" Y="280" BeforeID="40" AfterID="44" Condition="getNbrCylindres() &gt; 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="116.61903789690601" />
          <Transition ID="144" Name="195" X="280" Y="269" BeforeID="44" AfterID="42" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="-1" ShiftAmplitude="196.97715603592209" />
          <Transition ID="145" Name="572" X="240" Y="180" BeforeID="44" AfterID="45" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="141.42135623730951" />
          <Transition ID="146" Name="614" X="510" Y="120" BeforeID="46" AfterID="47" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="82.462112512353215" />
          <Transition ID="147" Name="619" X="720" Y="360" BeforeID="43" AfterID="39" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="101.9803902718557" />
          <Transition ID="148" Name="511" X="340" Y="115" BeforeID="45" AfterID="48" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="104.4030650891055" />
          <Transition ID="149" Name="512" X="430" Y="105" BeforeID="48" AfterID="46" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="80.622577482985491" />
          <Transition ID="150" Name="513" X="580" Y="150" BeforeID="47" AfterID="94" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="72.111025509279784" />
          <Transition ID="151" Name="514" X="630" Y="210" BeforeID="94" AfterID="41" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="89.442719099991592" />
        </Transitions>
      </PetriNet>
      <PetriNet ID="13" Name="Salutations" X="1020" Y="1100" Active="false" RequiredTokens="0" Radius="30">
        <Comments />
        <States>
          <Exit ID="152" Name="End" X="1370" Y="160" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="153" Name="157" X="470" Y="80" Active="false" RequiredTokens="1" Radius="20" Function="tournerRelatif(-30_deg)" />
          <Action ID="154" Name="159" X="470" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="ouvrirPince()" />
          <Action ID="155" Name="160" X="90" Y="280" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="156" Name="161" X="220" Y="210" Active="false" RequiredTokens="1" Radius="20" Function="setVitesseAngulaireLente()" />
          <Action ID="157" Name="163" X="194" Y="308" Active="false" RequiredTokens="1" Radius="20" Function="orienterPinceAttraper()" />
          <Action ID="158" Name="165" X="330" Y="300" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="159" Name="169" X="470" Y="260" Active="false" RequiredTokens="1" Radius="20" Function="ascenseurStockageBas()" />
          <Action ID="160" Name="171" X="670" Y="180" Active="false" RequiredTokens="3" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="161" Name="157" X="830" Y="100" Active="false" RequiredTokens="1" Radius="20" Function="tournerRelatif(30_deg)" />
          <Action ID="162" Name="159" X="830" Y="180" Active="false" RequiredTokens="1" Radius="20" Function="fermerPince()" />
          <Action ID="163" Name="169" X="830" Y="260" Active="false" RequiredTokens="1" Radius="20" Function="ascenseurStockageHaut()" />
          <Action ID="164" Name="184" X="992" Y="304" Active="false" RequiredTokens="3" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="165" Name="189" X="1185" Y="164" Active="false" RequiredTokens="0" Radius="20" Function="resetVitesseAngulaire()" />
        </States>
        <Transitions>
          <Transition ID="166" Name="162" X="155" Y="245" BeforeID="155" AfterID="156" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="147.648230602334" />
          <Transition ID="167" Name="164" X="142" Y="294" BeforeID="155" AfterID="157" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
          <Transition ID="168" Name="166" X="262" Y="304" BeforeID="157" AfterID="158" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="136.23509092741122" />
          <Transition ID="169" Name="167" X="400" Y="190" BeforeID="158" AfterID="153" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="260.76809620810593" />
          <Transition ID="170" Name="168" X="400" Y="230" BeforeID="158" AfterID="154" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="197.98989873223331" />
          <Transition ID="171" Name="170" X="400" Y="280" BeforeID="158" AfterID="159" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="145.60219778561037" />
          <Transition ID="172" Name="172" X="570" Y="130" BeforeID="153" AfterID="160" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="223.60679774997897" />
          <Transition ID="173" Name="173" X="570" Y="170" BeforeID="154" AfterID="160" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="200.9975124224178" />
          <Transition ID="174" Name="174" X="570" Y="220" BeforeID="159" AfterID="160" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="215.40659228538016" />
          <Transition ID="175" Name="181" X="750" Y="140" BeforeID="160" AfterID="161" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="178.88543819998318" />
          <Transition ID="176" Name="182" X="750" Y="180" BeforeID="160" AfterID="162" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="160" />
          <Transition ID="177" Name="183" X="750" Y="220" BeforeID="160" AfterID="163" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="178.88543819998318" />
          <Transition ID="178" Name="185" X="911" Y="202" BeforeID="161" AfterID="164" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="260.4995201531089" />
          <Transition ID="179" Name="186" X="911" Y="242" BeforeID="162" AfterID="164" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="204.00980368599937" />
          <Transition ID="180" Name="187" X="911" Y="282" BeforeID="163" AfterID="164" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="167.86899654194636" />
          <Transition ID="181" Name="188" X="652" Y="494" BeforeID="164" AfterID="158" Condition="true" W="50" H="30" ShiftX="-9" ShiftY="192" ShiftAmplitude="662.012084481847" />
          <Transition ID="182" Name="190" X="1277.5" Y="162" BeforeID="165" AfterID="152" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="185.04323819042943" />
        </Transitions>
      </PetriNet>
      <Action ID="14" Name="angulaire" X="1320" Y="110" Active="false" RequiredTokens="1" Radius="20" Function="setVitesseAngulaireLente()" />
      <Action ID="15" Name="lineaire" X="1220" Y="110" Active="false" RequiredTokens="0" Radius="20" Function="setVitesseLineaireLente()" />
      <PetriNet ID="16" Name="cyl[0.5;0.9]" X="1140" Y="370" Active="false" RequiredTokens="0" Radius="30">
        <Comments>
          <Comment ID="183" Name="Le robot pose tous ses cylindres dans un rail" X="521" Y="45" Width="178" Height="44" R="1" G="0.7" B="0.7" A="1" />
          <Comment ID="184" Name="On se place devant et en face du rail d'abord" X="230" Y="120" Width="176" Height="44" R="1" G="1" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="185" Name="End" X="750" Y="340" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="186" Name="26" X="170" Y="300" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="187" Name="26" X="570" Y="220" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_droit = 1" />
          <Action ID="188" Name="270" X="230" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="allerA(75_cm, 95_cm)" />
          <Action ID="189" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-160_deg)" />
          <Action ID="190" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - prendre cylindre [50_cm ; 90_cm]&quot;)" />
          <PetriNet ID="191" Name="action" X="450" Y="180" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="193" Name="Mouvements" X="350" Y="50" Width="104" Height="27" R="1" G="1" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="194" Name="End" X="560" Y="200" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="195" Name="86" X="440" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="stockerCylindre()" />
              <Action ID="196" Name="110" X="170" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
              <Action ID="197" Name="235" X="310" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(20_cm)" />
              <Action ID="198" Name="268" X="390" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;J'ai stocké le cylindre en[1_m; 1 . 4_m]&quot;)" />
              <Action ID="199" Name="274" X="500" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Warning : je n'ai pas stocké le cylindre en [1_m;1.4_m] !!&quot;)" />
            </States>
            <Transitions>
              <Transition ID="200" Name="235" X="240" Y="200" BeforeID="196" AfterID="197" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140" />
              <Transition ID="201" Name="272" X="500" Y="200" BeforeID="195" AfterID="194" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="120" />
              <Transition ID="202" Name="273" X="415" Y="240" BeforeID="195" AfterID="198" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="94.339811320566042" />
              <Transition ID="203" Name="275" X="470" Y="240" BeforeID="195" AfterID="199" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100" />
              <Transition ID="204" Name="273" X="375" Y="200" BeforeID="197" AfterID="195" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130" />
            </Transitions>
          </PetriNet>
          <Action ID="192" Name="330" X="591" Y="321" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
        </States>
        <Transitions>
          <Transition ID="205" Name="30" X="441.03329750205086" Y="376.04189061218239" BeforeID="186" AfterID="192" Condition="$is_cyl_droit == 1" W="50" H="30" ShiftX="60.533297502050857" ShiftY="65.541890612182385" ShiftAmplitude="421.52342758143351" />
          <Transition ID="206" Name="271" X="200" Y="250" BeforeID="186" AfterID="188" Condition="$is_cyl_droit == 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="116.61903789690601" />
          <Transition ID="207" Name="165" X="280" Y="180" BeforeID="188" AfterID="189" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
          <Transition ID="208" Name="195" X="317.5" Y="242.5" BeforeID="188" AfterID="190" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
          <Transition ID="209" Name="381" X="390" Y="170" BeforeID="189" AfterID="191" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="121.6552506059644" />
          <Transition ID="210" Name="382" X="510" Y="200" BeforeID="191" AfterID="187" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="126.49110640673517" />
          <Transition ID="211" Name="331" X="498" Y="303" BeforeID="190" AfterID="192" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="189.45184084616332" />
          <Transition ID="212" Name="332" X="580.5" Y="270.5" BeforeID="187" AfterID="192" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="103.16006979447037" />
          <Transition ID="213" Name="333" X="670.5" Y="330.5" BeforeID="192" AfterID="185" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="160.13119621110684" />
        </Transitions>
      </PetriNet>
      <Action ID="17" Name="BEGIN" X="550" Y="170" Active="false" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
      <Action ID="18" Name="BEGIN" X="2040" Y="850" Active="false" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
      <PetriNet ID="19" Name="cyl[0.9;0.6]" X="1300" Y="330" Active="false" RequiredTokens="1" Radius="30">
        <Comments>
          <Comment ID="214" Name="On se place devant et en face du rail d'abord" X="230" Y="120" Width="176" Height="44" R="1" G="1" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="215" Name="End" X="750" Y="340" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="216" Name="26" X="170" Y="300" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="217" Name="26" X="570" Y="220" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_rail_m_45 = 1" />
          <Action ID="218" Name="270" X="230" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="allerA(50_cm, 90_cm)" />
          <Action ID="219" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-45_deg)" />
          <Action ID="220" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - prendre cylindre [90_cm ; 60_cm]&quot;)" />
          <PetriNet ID="221" Name="action" X="450" Y="180" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="223" Name="Mouvements" X="350" Y="50" Width="104" Height="27" R="1" G="1" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="224" Name="End" X="560" Y="200" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="225" Name="86" X="440" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="stockerCylindre()" />
              <Action ID="226" Name="110" X="170" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
              <Action ID="227" Name="235" X="310" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(25_cm)" />
              <Action ID="228" Name="268" X="390" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;J'ai stocké le cylindre en[1_m; 1 . 4_m]&quot;)" />
              <Action ID="229" Name="274" X="500" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Warning : je n'ai pas stocké le cylindre en [1_m;1.4_m] !!&quot;)" />
            </States>
            <Transitions>
              <Transition ID="230" Name="235" X="240" Y="200" BeforeID="226" AfterID="227" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140" />
              <Transition ID="231" Name="272" X="500" Y="200" BeforeID="225" AfterID="224" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="120" />
              <Transition ID="232" Name="273" X="415" Y="240" BeforeID="225" AfterID="228" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="94.339811320566042" />
              <Transition ID="233" Name="275" X="470" Y="240" BeforeID="225" AfterID="229" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100" />
              <Transition ID="234" Name="273" X="375" Y="200" BeforeID="227" AfterID="225" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130" />
            </Transitions>
          </PetriNet>
          <Action ID="222" Name="330" X="591" Y="321" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
        </States>
        <Transitions>
          <Transition ID="235" Name="30" X="441.03329750205086" Y="376.04189061218239" BeforeID="216" AfterID="222" Condition="$is_cyl_rail_m_45 == 1" W="50" H="30" ShiftX="60.533297502050857" ShiftY="65.541890612182385" ShiftAmplitude="421.52342758143351" />
          <Transition ID="236" Name="271" X="200" Y="250" BeforeID="216" AfterID="218" Condition="$is_cyl_rail_m_45 == 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="116.61903789690601" />
          <Transition ID="237" Name="165" X="280" Y="180" BeforeID="218" AfterID="219" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
          <Transition ID="238" Name="195" X="317.5" Y="242.5" BeforeID="218" AfterID="220" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
          <Transition ID="239" Name="381" X="390" Y="170" BeforeID="219" AfterID="221" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="121.6552506059644" />
          <Transition ID="240" Name="382" X="510" Y="200" BeforeID="221" AfterID="217" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="126.49110640673517" />
          <Transition ID="241" Name="331" X="498" Y="303" BeforeID="220" AfterID="222" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="189.45184084616332" />
          <Transition ID="242" Name="332" X="580.5" Y="270.5" BeforeID="217" AfterID="222" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="103.16006979447037" />
          <Transition ID="243" Name="333" X="670.5" Y="330.5" BeforeID="222" AfterID="215" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="160.13119621110684" />
        </Transitions>
      </PetriNet>
      <PetriNet ID="20" Name="cyl[2.5;0.9]" X="1120" Y="530" Active="false" RequiredTokens="0" Radius="30">
        <Comments>
          <Comment ID="244" Name="On se place devant et en face du rail d'abord" X="230" Y="120" Width="176" Height="48" R="1" G="1" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="245" Name="End" X="750" Y="340" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="246" Name="26" X="140" Y="380" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="247" Name="26" X="570" Y="220" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_gauche = 1" />
          <Action ID="248" Name="270" X="230" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="allerA(2.20_m, 90_cm)" />
          <Action ID="249" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-15_deg)" />
          <Action ID="250" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - prendre cylindre [2.5_m ; 90_cm]&quot;)" />
          <PetriNet ID="251" Name="action" X="450" Y="180" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="255" Name="Mouvements" X="350" Y="50" Width="104" Height="27" R="1" G="1" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="256" Name="End" X="560" Y="200" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="257" Name="86" X="440" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="stockerCylindre()" />
              <Action ID="258" Name="110" X="170" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
              <Action ID="259" Name="235" X="310" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(20_cm)" />
              <Action ID="260" Name="268" X="390" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;J'ai stocké le cylindre en[1_m; 1 . 4_m]&quot;)" />
              <Action ID="261" Name="274" X="500" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Warning : je n'ai pas stocké le cylindre en [1_m;1.4_m] !!&quot;)" />
            </States>
            <Transitions>
              <Transition ID="262" Name="235" X="240" Y="200" BeforeID="258" AfterID="259" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140" />
              <Transition ID="263" Name="272" X="500" Y="200" BeforeID="257" AfterID="256" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="120" />
              <Transition ID="264" Name="273" X="415" Y="240" BeforeID="257" AfterID="260" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="94.339811320566042" />
              <Transition ID="265" Name="275" X="470" Y="240" BeforeID="257" AfterID="261" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100" />
              <Transition ID="266" Name="273" X="375" Y="200" BeforeID="259" AfterID="257" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130" />
            </Transitions>
          </PetriNet>
          <Action ID="252" Name="330" X="591" Y="321" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="253" Name="609" X="350" Y="380" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action cyl[2.5;0.9] faite : je fais rien&quot;)" />
          <Action ID="254" Name="627" X="180" Y="290" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action cyl[2.5;0.9] pas faite : je la fais&quot;)" />
        </States>
        <Transitions>
          <Transition ID="267" Name="165" X="280" Y="180" BeforeID="248" AfterID="249" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
          <Transition ID="268" Name="195" X="317.5" Y="242.5" BeforeID="248" AfterID="250" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
          <Transition ID="269" Name="381" X="390" Y="170" BeforeID="249" AfterID="251" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="121.6552506059644" />
          <Transition ID="270" Name="382" X="510" Y="200" BeforeID="251" AfterID="247" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="126.49110640673517" />
          <Transition ID="271" Name="331" X="498" Y="303" BeforeID="250" AfterID="252" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="189.45184084616332" />
          <Transition ID="272" Name="332" X="580.5" Y="270.5" BeforeID="247" AfterID="252" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="103.16006979447037" />
          <Transition ID="273" Name="333" X="670.5" Y="330.5" BeforeID="252" AfterID="245" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="160.13119621110684" />
          <Transition ID="274" Name="614" X="245" Y="380" BeforeID="246" AfterID="253" Condition="$is_cyl_gauche == 1" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="210" />
          <Transition ID="275" Name="615" X="470.5" Y="350.5" BeforeID="253" AfterID="252" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="248.11690792850052" />
          <Transition ID="276" Name="628" X="160" Y="335" BeforeID="246" AfterID="254" Condition="$is_cyl_gauche == 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="98.488578017961046" />
          <Transition ID="277" Name="629" X="205" Y="245" BeforeID="254" AfterID="248" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="102.95630140987001" />
        </Transitions>
      </PetriNet>
      <PetriNet ID="21" Name="cyl[2.1;0.6]" X="1280" Y="490" Active="false" RequiredTokens="1" Radius="30">
        <Comments>
          <Comment ID="278" Name="On se place devant et en face du rail d'abord" X="230" Y="120" Width="176" Height="48" R="1" G="1" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="279" Name="End" X="750" Y="340" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="280" Name="26" X="160" Y="400" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="281" Name="26" X="570" Y="220" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_rail_45 = 1" />
          <Action ID="282" Name="270" X="230" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="allerA(2.50_m, 95_cm)" />
          <Action ID="283" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-135_deg)" />
          <Action ID="284" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - prendre cylindre [2.1_m ; 60_cm]&quot;)" />
          <PetriNet ID="285" Name="action" X="450" Y="180" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="289" Name="Mouvements" X="350" Y="50" Width="104" Height="29" R="1" G="1" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="290" Name="End" X="740" Y="200" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="291" Name="86" X="440" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="stockerCylindre()" />
              <Action ID="292" Name="110" X="170" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
              <Action ID="293" Name="235" X="310" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(20_cm)" />
              <Action ID="294" Name="268" X="390" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;J'ai stocké le cylindre en[1_m; 1 . 4_m]&quot;)" />
              <Action ID="295" Name="274" X="500" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Warning : je n'ai pas stocké le cylindre en [1_m;1.4_m] !!&quot;)" />
              <Action ID="296" Name="613" X="580" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="reculerDe(5_cm)" />
            </States>
            <Transitions>
              <Transition ID="297" Name="235" X="240" Y="200" BeforeID="292" AfterID="293" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140" />
              <Transition ID="298" Name="273" X="415" Y="240" BeforeID="291" AfterID="294" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="94.339811320566042" />
              <Transition ID="299" Name="275" X="470" Y="240" BeforeID="291" AfterID="295" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100" />
              <Transition ID="300" Name="273" X="375" Y="200" BeforeID="293" AfterID="291" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130" />
              <Transition ID="301" Name="614" X="510" Y="200" BeforeID="291" AfterID="296" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140" />
              <Transition ID="302" Name="615" X="660" Y="200" BeforeID="296" AfterID="290" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="160" />
            </Transitions>
          </PetriNet>
          <Action ID="286" Name="330" X="591" Y="321" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="287" Name="616" X="340" Y="380" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action cyl[2.5;0.9] faite : je fait tien&quot;)" />
          <Action ID="288" Name="630" X="180" Y="300" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action cyl[2.1;0.6] pas faite : je la fait&quot;)" />
        </States>
        <Transitions>
          <Transition ID="303" Name="165" X="280" Y="180" BeforeID="282" AfterID="283" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
          <Transition ID="304" Name="195" X="317.5" Y="242.5" BeforeID="282" AfterID="284" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
          <Transition ID="305" Name="381" X="390" Y="170" BeforeID="283" AfterID="285" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="121.6552506059644" />
          <Transition ID="306" Name="382" X="510" Y="200" BeforeID="285" AfterID="281" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="126.49110640673517" />
          <Transition ID="307" Name="331" X="498" Y="303" BeforeID="284" AfterID="286" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="189.45184084616332" />
          <Transition ID="308" Name="332" X="580.5" Y="270.5" BeforeID="281" AfterID="286" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="103.16006979447037" />
          <Transition ID="309" Name="333" X="670.5" Y="330.5" BeforeID="286" AfterID="279" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="160.13119621110684" />
          <Transition ID="310" Name="617" X="250" Y="390.70850681738858" BeforeID="280" AfterID="287" Condition="$is_cyl_rail_45 == 1" W="50" H="30" ShiftX="0" ShiftY="0.70850681738858157" ShiftAmplitude="181.10770276274835" />
          <Transition ID="311" Name="618" X="465.5" Y="350.5" BeforeID="287" AfterID="286" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="257.84103629949988" />
          <Transition ID="312" Name="631" X="170" Y="350" BeforeID="280" AfterID="288" Condition="$is_cyl_rail_45 == 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="101.9803902718557" />
          <Transition ID="313" Name="632" X="205" Y="250" BeforeID="288" AfterID="282" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="111.80339887498948" />
        </Transitions>
      </PetriNet>
      <PetriNet ID="22" Name="stockCyl" X="1380" Y="570" Active="false" RequiredTokens="1" Radius="30">
        <Comments />
        <States>
          <Exit ID="314" Name="End" X="800" Y="270" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="315" Name="26" X="130" Y="320" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="316" Name="26" X="660" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_0 = $nbr_poses_rail_0 + getNbrCylindres()" />
          <Action ID="317" Name="270" X="200" Y="140" Active="false" RequiredTokens="1" Radius="20" Function="allerA(1.2_m, 1.4_m)" />
          <Action ID="318" Name="164" X="300" Y="100" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(135_deg)" />
          <Action ID="319" Name="194" X="380" Y="220" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - stockerCylindres&quot;)" />
          <Action ID="320" Name="334" X="680" Y="250" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="321" Name="509" X="420" Y="100" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(25_cm)" />
          <PetriNet ID="322" Name="StockerCylindres" X="574" Y="118" Active="false" RequiredTokens="1" Radius="30">
            <Comments />
            <States>
              <Exit ID="325" Name="End" X="250" Y="210" Active="false" RequiredTokens="2" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="326" Name="destocke" X="440" Y="180" Active="false" RequiredTokens="1" Radius="20" Function="destockerCylindre()" />
              <Action ID="327" Name="++" X="380" Y="300" Active="true" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
              <Action ID="328" Name="21" X="590" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(10_cm)" />
              <Action ID="329" Name="Pose" X="640" Y="260" Active="false" RequiredTokens="1" Radius="20" Function="ouvrirPince()" />
              <Action ID="330" Name="31" X="520" Y="350" Active="false" RequiredTokens="1" Radius="20" Function="reculerDe(10_cm)" />
              <Action ID="331" Name="570" X="340" Y="130" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de destockerCylindre&quot;)" />
            </States>
            <Transitions>
              <Transition ID="332" Name="17" X="410" Y="240" BeforeID="327" AfterID="326" Condition="getNbrCylindres() &gt; 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="134.16407864998737" />
              <Transition ID="333" Name="564" X="315" Y="255" BeforeID="327" AfterID="325" Condition="getNbrCylindres() == 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="158.11388300841898" />
              <Transition ID="334" Name="566" X="515" Y="170" BeforeID="326" AfterID="328" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="151.32745950421557" />
              <Transition ID="335" Name="567" X="615" Y="210" BeforeID="328" AfterID="329" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="111.80339887498948" />
              <Transition ID="336" Name="568" X="580" Y="305" BeforeID="329" AfterID="330" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="150" />
              <Transition ID="337" Name="569" X="450" Y="325" BeforeID="330" AfterID="327" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="148.66068747318505" />
              <Transition ID="338" Name="571" X="390" Y="155" BeforeID="326" AfterID="331" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="111.80339887498948" />
              <Transition ID="339" Name="572" X="295" Y="170" BeforeID="331" AfterID="325" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="120.41594578792295" />
            </Transitions>
          </PetriNet>
          <Action ID="323" Name="620" X="380" Y="320" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action StockerCylindres faite : je fais rien&quot;)" />
          <Action ID="324" Name="633" X="160" Y="220" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action StockerCylindres pas faite : je la fais&quot;)" />
        </States>
        <Transitions>
          <Transition ID="340" Name="165" X="250" Y="120" BeforeID="317" AfterID="318" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
          <Transition ID="341" Name="195" X="290" Y="180" BeforeID="317" AfterID="319" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="196.97715603592209" />
          <Transition ID="342" Name="335" X="530" Y="236" BeforeID="319" AfterID="320" Condition="true" W="50" H="30" ShiftX="0" ShiftY="1" ShiftAmplitude="301.4962686336267" />
          <Transition ID="343" Name="336" X="670" Y="205" BeforeID="316" AfterID="320" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="92.195444572928878" />
          <Transition ID="344" Name="506" X="741" Y="260" BeforeID="320" AfterID="314" Condition="true" W="50" H="30" ShiftX="1" ShiftY="0" ShiftAmplitude="121.6552506059644" />
          <Transition ID="345" Name="510" X="360" Y="100" BeforeID="318" AfterID="321" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="120" />
          <Transition ID="346" Name="536" X="617" Y="139" BeforeID="322" AfterID="316" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="95.707888912043188" />
          <Transition ID="347" Name="535" X="497" Y="109" BeforeID="321" AfterID="322" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="155.04837954651444" />
          <Transition ID="348" Name="621" X="255" Y="320" BeforeID="315" AfterID="323" Condition="getNbrCylindres() == 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="250" />
          <Transition ID="349" Name="622" X="531.00786311833156" Y="285" BeforeID="323" AfterID="320" Condition="true" W="50" H="30" ShiftX="1.0078631183315565" ShiftY="0" ShiftAmplitude="308.05843601498725" />
          <Transition ID="350" Name="634" X="145" Y="270" BeforeID="315" AfterID="324" Condition="getNbrCylindres() &gt; 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="104.4030650891055" />
          <Transition ID="351" Name="635" X="180" Y="180" BeforeID="324" AfterID="317" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="89.442719099991592" />
        </Transitions>
      </PetriNet>
      <PetriNet ID="23" Name="railsAuto" X="1380" Y="430" Active="false" RequiredTokens="1" Radius="30">
        <Comments>
          <Comment ID="352" Name="Calcul des distances entre le robot et chaque rail" X="320" Y="90" Width="206" Height="44" R="1" G="1" B="0.7" A="1" />
          <Comment ID="353" Name="Robot vide" X="420" Y="490" Width="94" Height="27" R="1" G="1" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="354" Name="End" X="920" Y="240" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <PetriNet ID="355" Name="rail[-45]" X="600" Y="140" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="371" Name="$rail_m_45 == $rail_-45" X="500" Y="440" Width="184" Height="27" R="1" G="1" B="0.7" A="1" />
              <Comment ID="372" Name="WARNING : on considère que tout va bien se passer dans poserCylindres" X="460" Y="80" Width="176" Height="78" R="1" G="0.7" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="373" Name="End" X="730" Y="320" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <PetriNetRef ID="374" Name="poserCylindres" X="560" Y="210" Active="false" RequiredTokens="1" Radius="30" Path="Macros_2017/poserCylindre.petri" />
              <Action ID="404" Name="270" X="230" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="allerA(75_cm, 65_cm)" />
              <Action ID="405" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-45_deg)" />
              <Action ID="406" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - poser_ds_rails_-45&quot;)" />
              <Action ID="407" Name="334" X="590" Y="310" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
              <Action ID="408" Name="406" X="440" Y="150" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_m_45 = $nbr_poses_rail_m_45 + getNbrCylindres()" />
            </States>
            <Transitions>
              <Transition ID="409" Name="165" X="280" Y="180" BeforeID="404" AfterID="405" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
              <Transition ID="410" Name="195" X="317.5" Y="242.5" BeforeID="404" AfterID="406" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
              <Transition ID="411" Name="335" X="497.5" Y="297.5" BeforeID="406" AfterID="407" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="186.6815470259447" />
              <Transition ID="412" Name="337" X="660" Y="315" BeforeID="407" AfterID="373" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140.356688476182" />
              <Transition ID="413" Name="950" X="385" Y="155" BeforeID="405" AfterID="408" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="110.45361017187261" />
              <Transition ID="414" Name="951" X="500" Y="180" BeforeID="408" AfterID="374" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="134.16407864998737" />
              <Transition ID="415" Name="952" X="575" Y="260" BeforeID="374" AfterID="407" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="104.4030650891055" />
            </Transitions>
          </PetriNet>
          <PetriNet ID="356" Name="rail[45]" X="600" Y="330" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="416" Name="WARNING : on considère que tout va bien se passer dans poserCylindres" X="440" Y="80" Width="176" Height="78" R="1" G="0.7" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="417" Name="End" X="730" Y="320" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="418" Name="26" X="430" Y="150" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_45 = $nbr_poses_rail_45 + getNbrCylindres()" />
              <Action ID="419" Name="270" X="230" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="allerA(2.25_cm, 65_cm)" />
              <Action ID="420" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-135_deg)" />
              <Action ID="421" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - poser_ds_rails_45&quot;)" />
              <Action ID="422" Name="334" X="590" Y="310" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
              <PetriNetRef ID="423" Name="poserCylindres" X="520" Y="200" Active="false" RequiredTokens="1" Radius="30" Path="Macros_2017/poserCylindre.petri" />
            </States>
            <Transitions>
              <Transition ID="453" Name="165" X="280" Y="180" BeforeID="419" AfterID="420" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
              <Transition ID="454" Name="195" X="317.5" Y="242.5" BeforeID="419" AfterID="421" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
              <Transition ID="455" Name="335" X="497.5" Y="297.5" BeforeID="421" AfterID="422" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="186.6815470259447" />
              <Transition ID="456" Name="337" X="660" Y="315" BeforeID="422" AfterID="417" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140.356688476182" />
              <Transition ID="457" Name="944" X="555" Y="255" BeforeID="423" AfterID="422" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130.38404810405297" />
              <Transition ID="458" Name="945" X="380" Y="155" BeforeID="420" AfterID="418" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100.4987562112089" />
              <Transition ID="459" Name="946" X="475" Y="175" BeforeID="418" AfterID="423" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="102.95630140987001" />
            </Transitions>
          </PetriNet>
          <PetriNet ID="357" Name="rail[0]" X="600" Y="240" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="460" Name="WARNING : on considère que tout va bien se passer dans poserCylindres" X="480" Y="80" Width="176" Height="78" R="1" G="0.7" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="461" Name="End" X="730" Y="320" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="462" Name="26" X="460" Y="150" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_0 = $nbr_poses_rail_0 + getNbrCylindres()" />
              <Action ID="463" Name="270" X="230" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="allerA(1.5_m, 70_cm)" />
              <Action ID="464" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-90_deg)" />
              <Action ID="465" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - poser_ds_rails_0&quot;)" />
              <Action ID="466" Name="334" X="590" Y="310" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
              <PetriNetRef ID="467" Name="poserCylindres" X="580" Y="200" Active="false" RequiredTokens="1" Radius="30" Path="Macros_2017/poserCylindre.petri" />
            </States>
            <Transitions>
              <Transition ID="497" Name="165" X="280" Y="180" BeforeID="463" AfterID="464" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
              <Transition ID="498" Name="195" X="317.5" Y="242.5" BeforeID="463" AfterID="465" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
              <Transition ID="499" Name="335" X="497.5" Y="297.5" BeforeID="465" AfterID="466" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="186.6815470259447" />
              <Transition ID="500" Name="337" X="660" Y="315" BeforeID="466" AfterID="461" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140.356688476182" />
              <Transition ID="501" Name="954" X="395" Y="155" BeforeID="464" AfterID="462" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130.38404810405297" />
              <Transition ID="502" Name="955" X="520" Y="175" BeforeID="462" AfterID="467" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130" />
              <Transition ID="503" Name="956" X="585" Y="255" BeforeID="467" AfterID="466" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="110.45361017187261" />
            </Transitions>
          </PetriNet>
          <Action ID="358" Name="965" X="200" Y="240" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="359" Name="dist[0]" X="320" Y="240" Active="false" RequiredTokens="1" Radius="20" Function="$dist_0 = distanceRobotPosition(1.5_m, 70_cm)" />
          <Action ID="360" Name="dist[45]" X="320" Y="150" Active="false" RequiredTokens="1" Radius="20" Function="$dist_45 = distanceRobotPosition(2.25_m, 65_cm)" />
          <Action ID="361" Name="dist[-45]" X="320" Y="320" Active="false" RequiredTokens="1" Radius="20" Function="$dist_m_45 = distanceRobotPosition(75_cm, 65_cm)" />
          <Action ID="362" Name="920" X="440" Y="240" Active="false" RequiredTokens="3" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="363" Name="925" X="50" Y="242" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="364" Name="927" X="420" Y="450" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;robot vide&quot;)" />
          <Action ID="365" Name="else ?" X="500" Y="150" Active="false" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="366" Name="935" X="779" Y="241" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="367" Name="639" X="140" Y="240" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action railsAuto pas faite : je la fais&quot;)" />
          <Action ID="368" Name="679" X="690" Y="170" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printAllVars(_PETRI_PRIVATE_GET_ENTITY_, $nbr_poses_rail_m_45)" />
          <Action ID="369" Name="680" X="700" Y="240" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printAllVars(_PETRI_PRIVATE_GET_ENTITY_, $nbr_poses_rail_0)" />
          <Action ID="370" Name="681" X="710" Y="330" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printAllVars(_PETRI_PRIVATE_GET_ENTITY_, $nbr_poses_rail_45)" />
        </States>
        <Transitions>
          <Transition ID="504" Name="971" X="260" Y="240" BeforeID="358" AfterID="359" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="120" />
          <Transition ID="505" Name="972" X="260" Y="195" BeforeID="358" AfterID="360" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="150" />
          <Transition ID="506" Name="973" X="260" Y="280" BeforeID="358" AfterID="361" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="144.22205101855957" />
          <Transition ID="507" Name="921" X="380" Y="240" BeforeID="359" AfterID="362" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="120" />
          <Transition ID="508" Name="922" X="380" Y="195" BeforeID="360" AfterID="362" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="150" />
          <Transition ID="509" Name="923" X="380" Y="280" BeforeID="361" AfterID="362" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="144.22205101855957" />
          <Transition ID="510" Name="928" X="160" Y="404" BeforeID="363" AfterID="364" Condition="getNbrCylindres() == 0" W="50" H="30" ShiftX="-75" ShiftY="58" ShiftAmplitude="424.45730056155236" />
          <Transition ID="511" Name="930" X="520" Y="285" BeforeID="362" AfterID="356" Condition="$dist_45 &lt; $dist_0 &amp;&amp; $dist_45 &lt; $dist_m_45 &amp;&amp; getNbrCylindres() &lt; $_MAX_CYLINDRES - $nbr_poses_rail_45" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="183.5755975068582" />
          <Transition ID="512" Name="931" X="520" Y="190" BeforeID="362" AfterID="355" Condition="$dist_m_45 &lt;= $dist_0 &amp;&amp; $dist_m_45 &lt;= $dist_45 &amp;&amp; getNbrCylindres() &lt; $_MAX_CYLINDRES - $nbr_poses_rail_m_45" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="188.67962264113208" />
          <Transition ID="513" Name="932" X="520" Y="240" BeforeID="362" AfterID="357" Condition="$dist_0 &lt;= $dist_m_45 &amp;&amp; $dist_0 &lt; $dist_45 &amp;&amp; getNbrCylindres() &lt; $_MAX_CYLINDRES - $nbr_poses_rail_0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="160" />
          <Transition ID="514" Name="939" X="628.3635712409407" Y="76.3402122780661" BeforeID="365" AfterID="366" Condition="true" W="50" H="30" ShiftX="-11.1364287590593" ShiftY="-119.1597877219339" ShiftAmplitude="293.46550052774518" />
          <Transition ID="515" Name="940" X="715.5" Y="393.5" BeforeID="364" AfterID="366" Condition="true" W="50" H="30" ShiftX="116" ShiftY="48" ShiftAmplitude="415.40582566930857" />
          <Transition ID="516" Name="941" X="849.5" Y="240.5" BeforeID="366" AfterID="354" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="141.00354605470034" />
          <Transition ID="517" Name="640" X="95" Y="241" BeforeID="363" AfterID="367" Condition="getNbrCylindres() &gt; 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="90.0222194794152" />
          <Transition ID="518" Name="641" X="170" Y="240" BeforeID="367" AfterID="358" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="60" />
          <Transition ID="519" Name="682" X="645" Y="155" BeforeID="355" AfterID="368" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="94.868329805051374" />
          <Transition ID="520" Name="683" X="734.5" Y="205.5" BeforeID="368" AfterID="366" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="113.85077953180645" />
          <Transition ID="521" Name="684" X="650" Y="240" BeforeID="357" AfterID="369" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100" />
          <Transition ID="522" Name="685" X="739.5" Y="240.5" BeforeID="369" AfterID="366" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="79.006328860414726" />
          <Transition ID="523" Name="686" X="655" Y="330" BeforeID="356" AfterID="370" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="110" />
          <Transition ID="524" Name="687" X="744.5" Y="285.5" BeforeID="370" AfterID="366" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="112.61438629233834" />
        </Transitions>
      </PetriNet>
      <PetriNet ID="24" Name="rail[45]" X="730" Y="170" Active="false" RequiredTokens="1" Radius="30">
        <Comments>
          <Comment ID="525" Name="WARNING : on considère que tout va bien se passer dans poserCylindres" X="440" Y="80" Width="176" Height="78" R="1" G="0.7" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="526" Name="End" X="730" Y="320" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="527" Name="26" X="430" Y="150" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_45 = $nbr_poses_rail_45 + getNbrCylindres()" />
          <Action ID="528" Name="270" X="230" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="allerA(2.25_cm, 65_cm)" />
          <Action ID="529" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-135_deg)" />
          <Action ID="530" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - poser_ds_rails_45&quot;)" />
          <Action ID="531" Name="334" X="590" Y="310" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <PetriNetRef ID="532" Name="poserCylindres" X="520" Y="200" Active="false" RequiredTokens="1" Radius="30" Path="Macros_2017/poserCylindre.petri" />
        </States>
        <Transitions>
          <Transition ID="562" Name="165" X="280" Y="180" BeforeID="528" AfterID="529" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
          <Transition ID="563" Name="195" X="317.5" Y="242.5" BeforeID="528" AfterID="530" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
          <Transition ID="564" Name="335" X="497.5" Y="297.5" BeforeID="530" AfterID="531" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="186.6815470259447" />
          <Transition ID="565" Name="337" X="660" Y="315" BeforeID="531" AfterID="526" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140.356688476182" />
          <Transition ID="566" Name="944" X="555" Y="255" BeforeID="532" AfterID="531" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130.38404810405297" />
          <Transition ID="567" Name="945" X="380" Y="155" BeforeID="529" AfterID="527" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100.4987562112089" />
          <Transition ID="568" Name="946" X="475" Y="175" BeforeID="527" AfterID="532" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="102.95630140987001" />
        </Transitions>
      </PetriNet>
      <PetriNet ID="25" Name="railsAuto" X="1190" Y="760" Active="false" RequiredTokens="1" Radius="30">
        <Comments>
          <Comment ID="569" Name="Calcul des distances entre le robot et chaque rail" X="320" Y="90" Width="206" Height="44" R="1" G="1" B="0.7" A="1" />
          <Comment ID="570" Name="Robot vide" X="420" Y="490" Width="94" Height="27" R="1" G="1" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="571" Name="End" X="920" Y="240" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <PetriNet ID="572" Name="rail[-45]" X="600" Y="140" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="588" Name="$rail_m_45 == $rail_-45" X="500" Y="440" Width="184" Height="27" R="1" G="1" B="0.7" A="1" />
              <Comment ID="589" Name="WARNING : on considère que tout va bien se passer dans poserCylindres" X="460" Y="80" Width="176" Height="78" R="1" G="0.7" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="590" Name="End" X="730" Y="320" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <PetriNetRef ID="591" Name="poserCylindres" X="560" Y="210" Active="false" RequiredTokens="1" Radius="30" Path="Macros_2017/poserCylindre.petri" />
              <Action ID="621" Name="270" X="230" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="allerA(75_cm, 65_cm)" />
              <Action ID="622" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-45_deg)" />
              <Action ID="623" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - poser_ds_rails_-45&quot;)" />
              <Action ID="624" Name="334" X="590" Y="310" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
              <Action ID="625" Name="406" X="440" Y="150" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_m_45 = $nbr_poses_rail_m_45 + getNbrCylindres()" />
            </States>
            <Transitions>
              <Transition ID="626" Name="165" X="280" Y="180" BeforeID="621" AfterID="622" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
              <Transition ID="627" Name="195" X="317.5" Y="242.5" BeforeID="621" AfterID="623" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
              <Transition ID="628" Name="335" X="497.5" Y="297.5" BeforeID="623" AfterID="624" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="186.6815470259447" />
              <Transition ID="629" Name="337" X="660" Y="315" BeforeID="624" AfterID="590" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140.356688476182" />
              <Transition ID="630" Name="950" X="385" Y="155" BeforeID="622" AfterID="625" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="110.45361017187261" />
              <Transition ID="631" Name="951" X="500" Y="180" BeforeID="625" AfterID="591" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="134.16407864998737" />
              <Transition ID="632" Name="952" X="575" Y="260" BeforeID="591" AfterID="624" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="104.4030650891055" />
            </Transitions>
          </PetriNet>
          <PetriNet ID="573" Name="rail[45]" X="600" Y="330" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="633" Name="WARNING : on considère que tout va bien se passer dans poserCylindres" X="440" Y="80" Width="176" Height="78" R="1" G="0.7" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="634" Name="End" X="730" Y="320" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="635" Name="26" X="430" Y="150" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_45 = $nbr_poses_rail_45 + getNbrCylindres()" />
              <Action ID="636" Name="270" X="230" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="allerA(2.25_cm, 65_cm)" />
              <Action ID="637" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-135_deg)" />
              <Action ID="638" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - poser_ds_rails_45&quot;)" />
              <Action ID="639" Name="334" X="590" Y="310" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
              <PetriNetRef ID="640" Name="poserCylindres" X="520" Y="200" Active="false" RequiredTokens="1" Radius="30" Path="Macros_2017/poserCylindre.petri" />
            </States>
            <Transitions>
              <Transition ID="670" Name="165" X="280" Y="180" BeforeID="636" AfterID="637" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
              <Transition ID="671" Name="195" X="317.5" Y="242.5" BeforeID="636" AfterID="638" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
              <Transition ID="672" Name="335" X="497.5" Y="297.5" BeforeID="638" AfterID="639" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="186.6815470259447" />
              <Transition ID="673" Name="337" X="660" Y="315" BeforeID="639" AfterID="634" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140.356688476182" />
              <Transition ID="674" Name="944" X="555" Y="255" BeforeID="640" AfterID="639" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130.38404810405297" />
              <Transition ID="675" Name="945" X="380" Y="155" BeforeID="637" AfterID="635" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100.4987562112089" />
              <Transition ID="676" Name="946" X="475" Y="175" BeforeID="635" AfterID="640" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="102.95630140987001" />
            </Transitions>
          </PetriNet>
          <PetriNet ID="574" Name="rail[0]" X="600" Y="240" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="677" Name="WARNING : on considère que tout va bien se passer dans poserCylindres" X="480" Y="80" Width="176" Height="78" R="1" G="0.7" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="678" Name="End" X="730" Y="320" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="679" Name="26" X="460" Y="150" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_0 = $nbr_poses_rail_0 + getNbrCylindres()" />
              <Action ID="680" Name="270" X="230" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="allerA(1.5_m, 70_cm)" />
              <Action ID="681" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-90_deg)" />
              <Action ID="682" Name="194" X="405" Y="285" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - poser_ds_rails_0&quot;)" />
              <Action ID="683" Name="334" X="590" Y="310" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
              <PetriNetRef ID="684" Name="poserCylindres" X="580" Y="200" Active="false" RequiredTokens="1" Radius="30" Path="Macros_2017/poserCylindre.petri" />
            </States>
            <Transitions>
              <Transition ID="714" Name="165" X="280" Y="180" BeforeID="680" AfterID="681" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
              <Transition ID="715" Name="195" X="317.5" Y="242.5" BeforeID="680" AfterID="682" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="194.5507645834372" />
              <Transition ID="716" Name="335" X="497.5" Y="297.5" BeforeID="682" AfterID="683" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="186.6815470259447" />
              <Transition ID="717" Name="337" X="660" Y="315" BeforeID="683" AfterID="678" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="140.356688476182" />
              <Transition ID="718" Name="954" X="395" Y="155" BeforeID="681" AfterID="679" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130.38404810405297" />
              <Transition ID="719" Name="955" X="520" Y="175" BeforeID="679" AfterID="684" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="130" />
              <Transition ID="720" Name="956" X="585" Y="255" BeforeID="684" AfterID="683" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="110.45361017187261" />
            </Transitions>
          </PetriNet>
          <Action ID="575" Name="965" X="200" Y="240" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="576" Name="dist[0]" X="320" Y="240" Active="false" RequiredTokens="1" Radius="20" Function="$dist_0 = distanceRobotPosition(1.5_m, 70_cm)" />
          <Action ID="577" Name="dist[45]" X="320" Y="150" Active="false" RequiredTokens="1" Radius="20" Function="$dist_45 = distanceRobotPosition(2.25_m, 65_cm)" />
          <Action ID="578" Name="dist[-45]" X="320" Y="320" Active="false" RequiredTokens="1" Radius="20" Function="$dist_m_45 = distanceRobotPosition(75_cm, 65_cm)" />
          <Action ID="579" Name="920" X="440" Y="240" Active="false" RequiredTokens="3" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="580" Name="925" X="50" Y="242" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="581" Name="927" X="420" Y="450" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;robot vide&quot;)" />
          <Action ID="582" Name="else ?" X="500" Y="150" Active="false" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="583" Name="935" X="779" Y="241" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="584" Name="639" X="140" Y="240" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action railsAuto pas faite : je la fais&quot;)" />
          <Action ID="585" Name="679" X="690" Y="170" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printAllVars(_PETRI_PRIVATE_GET_ENTITY_, $nbr_poses_rail_m_45)" />
          <Action ID="586" Name="680" X="700" Y="240" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printAllVars(_PETRI_PRIVATE_GET_ENTITY_, $nbr_poses_rail_0)" />
          <Action ID="587" Name="681" X="710" Y="330" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printAllVars(_PETRI_PRIVATE_GET_ENTITY_, $nbr_poses_rail_45)" />
        </States>
        <Transitions>
          <Transition ID="721" Name="971" X="260" Y="240" BeforeID="575" AfterID="576" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="120" />
          <Transition ID="722" Name="972" X="260" Y="195" BeforeID="575" AfterID="577" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="150" />
          <Transition ID="723" Name="973" X="260" Y="280" BeforeID="575" AfterID="578" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="144.22205101855957" />
          <Transition ID="724" Name="921" X="380" Y="240" BeforeID="576" AfterID="579" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="120" />
          <Transition ID="725" Name="922" X="380" Y="195" BeforeID="577" AfterID="579" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="150" />
          <Transition ID="726" Name="923" X="380" Y="280" BeforeID="578" AfterID="579" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="144.22205101855957" />
          <Transition ID="727" Name="928" X="160" Y="404" BeforeID="580" AfterID="581" Condition="getNbrCylindres() == 0" W="50" H="30" ShiftX="-75" ShiftY="58" ShiftAmplitude="424.45730056155236" />
          <Transition ID="728" Name="930" X="520" Y="285" BeforeID="579" AfterID="573" Condition="$dist_45 &lt; $dist_0 &amp;&amp; $dist_45 &lt; $dist_m_45 &amp;&amp; getNbrCylindres() &lt; $_MAX_CYLINDRES - $nbr_poses_rail_45" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="183.5755975068582" />
          <Transition ID="729" Name="931" X="520" Y="190" BeforeID="579" AfterID="572" Condition="$dist_m_45 &lt;= $dist_0 &amp;&amp; $dist_m_45 &lt;= $dist_45 &amp;&amp; getNbrCylindres() &lt; $_MAX_CYLINDRES - $nbr_poses_rail_m_45" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="188.67962264113208" />
          <Transition ID="730" Name="932" X="520" Y="240" BeforeID="579" AfterID="574" Condition="$dist_0 &lt;= $dist_m_45 &amp;&amp; $dist_0 &lt; $dist_45 &amp;&amp; getNbrCylindres() &lt; $_MAX_CYLINDRES - $nbr_poses_rail_0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="160" />
          <Transition ID="731" Name="939" X="628.3635712409407" Y="76.3402122780661" BeforeID="582" AfterID="583" Condition="true" W="50" H="30" ShiftX="-11.1364287590593" ShiftY="-119.1597877219339" ShiftAmplitude="293.46550052774518" />
          <Transition ID="732" Name="940" X="715.5" Y="393.5" BeforeID="581" AfterID="583" Condition="true" W="50" H="30" ShiftX="116" ShiftY="48" ShiftAmplitude="415.40582566930857" />
          <Transition ID="733" Name="941" X="849.5" Y="240.5" BeforeID="583" AfterID="571" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="141.00354605470034" />
          <Transition ID="734" Name="640" X="95" Y="241" BeforeID="580" AfterID="584" Condition="getNbrCylindres() &gt; 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="90.0222194794152" />
          <Transition ID="735" Name="641" X="170" Y="240" BeforeID="584" AfterID="575" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="60" />
          <Transition ID="736" Name="682" X="645" Y="155" BeforeID="572" AfterID="585" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="94.868329805051374" />
          <Transition ID="737" Name="683" X="734.5" Y="205.5" BeforeID="585" AfterID="583" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="113.85077953180645" />
          <Transition ID="738" Name="684" X="650" Y="240" BeforeID="574" AfterID="586" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100" />
          <Transition ID="739" Name="685" X="739.5" Y="240.5" BeforeID="586" AfterID="583" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="79.006328860414726" />
          <Transition ID="740" Name="686" X="655" Y="330" BeforeID="573" AfterID="587" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="110" />
          <Transition ID="741" Name="687" X="744.5" Y="285.5" BeforeID="587" AfterID="583" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="112.61438629233834" />
        </Transitions>
      </PetriNet>
      <PetriNet ID="26" Name="fusee" X="1150" Y="640" Active="false" RequiredTokens="1" Radius="30">
        <Comments>
          <Comment ID="742" Name="On commence en face de la fusée à 10_cm d'elle" X="340" Y="50" Width="198" Height="48" R="1" G="0.7" B="0.7" A="1" />
          <Comment ID="743" Name="Fusée : Récupère les cylindres dans la fusée jusqu'à épuisement du stock ou remplissage complet du robot" X="250" Y="470" Width="294" Height="67" R="1" G="1" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="744" Name="End" X="910" Y="330" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="745" Name="26" X="300" Y="360" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="746" Name="270" X="380" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="allerA(1.45_m, 1.65_m)" />
          <Action ID="747" Name="164" X="480" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(135_deg)" />
          <Action ID="748" Name="194" X="560" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;Echec de AllerA - fusee&quot;)" />
          <PetriNet ID="749" Name="action" X="660" Y="190" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="754" Name="On avance" X="750" Y="200" Width="96" Height="27" R="1" G="1" B="0.7" A="1" />
              <Comment ID="755" Name="On attrape le cylindre" X="1030" Y="240" Width="176" Height="27" R="1" G="1" B="0.7" A="1" />
              <Comment ID="756" Name="On se remets en position" X="1070" Y="480" Width="128" Height="44" R="1" G="1" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="757" Name="End" X="480" Y="330" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="758" Name="418" X="650" Y="320" Active="true" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
              <Action ID="759" Name="467" X="790" Y="260" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(10_cm)" />
              <Action ID="760" Name="469" X="970" Y="280" Active="false" RequiredTokens="1" Radius="20" Function="attraperCylindre()" />
              <Action ID="761" Name="433" X="1090" Y="340" Active="false" RequiredTokens="1" Radius="20" Function="reculerDe(10_cm)" />
              <Action ID="762" Name="435" X="1010" Y="420" Active="false" RequiredTokens="1" Radius="20" Function="stockerCylindre()" />
              <Action ID="763" Name="++" X="830" Y="420" Active="false" RequiredTokens="1" Radius="20" Function="$cylindres_fusee = $cylindres_fusee - 1" />
            </States>
            <Transitions>
              <Transition ID="764" Name="468" X="720" Y="290" BeforeID="758" AfterID="759" Condition="getNbrCylindres() &lt; 3 &amp;&amp; $cylindres_fusee &gt; 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="152.31546211727817" />
              <Transition ID="765" Name="470" X="880" Y="270" BeforeID="759" AfterID="760" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="181.10770276274835" />
              <Transition ID="766" Name="434" X="1030" Y="310" BeforeID="760" AfterID="761" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="134.16407864998737" />
              <Transition ID="767" Name="436" X="1050" Y="380" BeforeID="761" AfterID="762" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="113.13708498984761" />
              <Transition ID="768" Name="438" X="920" Y="420" BeforeID="762" AfterID="763" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="180" />
              <Transition ID="769" Name="439" X="740" Y="370" BeforeID="763" AfterID="758" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="205.91260281974002" />
              <Transition ID="770" Name="722" X="565" Y="325" BeforeID="758" AfterID="757" Condition="getNbrCylindres() == 3 || $cylindres_fusee == 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="170.29386365926402" />
            </Transitions>
          </PetriNet>
          <Action ID="750" Name="330" X="740" Y="320" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
          <Action ID="751" Name="925" X="570" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(10_cm)" />
          <Action ID="752" Name="623" X="500" Y="370" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action  fusee  faite : je fais rien&quot;)" />
          <Action ID="753" Name="636" X="310" Y="260" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::printText(&quot;action fusee pas faite : je la fais&quot;)" />
        </States>
        <Transitions>
          <Transition ID="771" Name="165" X="430" Y="180" BeforeID="746" AfterID="747" Condition="$Res == REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
          <Transition ID="772" Name="195" X="470" Y="240" BeforeID="746" AfterID="748" Condition="$Res != REUSSI" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="196.97715603592209" />
          <Transition ID="773" Name="331" X="650" Y="300" BeforeID="748" AfterID="750" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="184.39088914585776" />
          <Transition ID="774" Name="676" X="718.50317126707671" Y="248.06131077484625" BeforeID="749" AfterID="750" Condition="true" W="50" H="30" ShiftX="18.503171267076709" ShiftY="-6.9386892251537517" ShiftAmplitude="152.64337522473747" />
          <Transition ID="775" Name="723" X="825" Y="325" BeforeID="750" AfterID="744" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="170.29386365926402" />
          <Transition ID="776" Name="926" X="525" Y="160" BeforeID="747" AfterID="751" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="90" />
          <Transition ID="777" Name="927" X="615" Y="175" BeforeID="751" AfterID="749" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="94.868329805051374" />
          <Transition ID="778" Name="624" X="400" Y="365" BeforeID="745" AfterID="752" Condition="$cylindres_fusee == 0" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="200.24984394500785" />
          <Transition ID="779" Name="625" X="620" Y="345" BeforeID="752" AfterID="750" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="245.15301344262525" />
          <Transition ID="780" Name="637" X="306.0900620597551" Y="310" BeforeID="745" AfterID="753" Condition="$cylindres_fusee &gt; 0" W="50" H="30" ShiftX="1.0900620597550983" ShiftY="0" ShiftAmplitude="100.4987562112089" />
          <Transition ID="781" Name="638" X="345" Y="230" BeforeID="753" AfterID="746" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="92.195444572928878" />
        </Transitions>
      </PetriNet>
      <Action ID="27" Name="BEGIN" X="640" Y="1160" Active="false" RequiredTokens="1" Radius="20" Function="Petri::Utility::doNothing()" />
      <PetriNet ID="28" Name="cyl[1;1.4]" X="460" Y="1030" Active="false" RequiredTokens="1" Radius="30">
        <Comments>
          <Comment ID="782" Name="Le robot sort de la zone et stocke le cylindre devant lui" X="580" Y="70" Width="214" Height="44" R="1" G="0.7" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="783" Name="End" X="690" Y="280" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="784" Name="26" X="100" Y="230" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
          <PetriNet ID="785" Name="action" X="290" Y="100" Active="false" RequiredTokens="1" Radius="30">
            <Comments>
              <Comment ID="786" Name="Placement des servos" X="360" Y="370" Width="176" Height="27" R="1" G="1" B="0.7" A="1" />
              <Comment ID="787" Name="Mouvements" X="350" Y="50" Width="104" Height="27" R="1" G="1" B="0.7" A="1" />
            </Comments>
            <States>
              <Exit ID="788" Name="End" X="720" Y="210" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
              <Action ID="789" Name="77" X="30" Y="230" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
              <Action ID="791" Name="106" X="320" Y="130" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-30_deg)" />
              <Action ID="792" Name="110" X="150" Y="130" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(5_cm)" />
              <Action ID="796" Name="847" X="451" Y="214" Active="false" RequiredTokens="1" Radius="20" Function="avancerDe(50_cm, SensAvance::Avant)" />
            </States>
            <Transitions>
              <Transition ID="797" Name="110" X="90" Y="180" BeforeID="789" AfterID="792" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="156.20499351813308" />
              <Transition ID="798" Name="111" X="235" Y="130" BeforeID="792" AfterID="791" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="170" />
              <Transition ID="803" Name="848" X="385.5" Y="172" BeforeID="791" AfterID="796" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="155.6181223379848" />
              <Transition ID="804" Name="852" X="585.5" Y="212" BeforeID="796" AfterID="788" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="269.02973813316623" />
            </Transitions>
          </PetriNet>
        </States>
        <Transitions>
          <Transition ID="805" Name="894" X="195" Y="165" BeforeID="784" AfterID="785" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="230.21728866442677" />
          <Transition ID="806" Name="895" X="490" Y="190" BeforeID="785" AfterID="783" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="438.63424398922615" />
        </Transitions>
      </PetriNet>
      <PetriNet ID="29" Name="Variables" X="440" Y="1240" Active="true" RequiredTokens="0" Radius="30">
        <Comments />
        <States>
          <Exit ID="807" Name="End" X="910" Y="300" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="808" Name="rail[0]" X="240" Y="190" Active="true" RequiredTokens="0" Radius="20" Function="$nbr_poses_rail_0 = 0" />
          <Action ID="809" Name="rail[-45]" X="220" Y="270" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_m_45 = 0" />
          <Action ID="810" Name="rail[45]" X="300" Y="330" Active="false" RequiredTokens="1" Radius="20" Function="$nbr_poses_rail_45 = 0" />
          <Action ID="811" Name="407" X="380" Y="290" Active="false" RequiredTokens="1" Radius="20" Function="$_MAX_CYLINDRES = 5" />
          <Action ID="812" Name="fusee" X="400" Y="170" Active="false" RequiredTokens="1" Radius="20" Function="$cylindres_fusee = 4" />
          <Action ID="813" Name="cyl[45]" X="500" Y="190" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_rail_45 = 0" />
          <Action ID="814" Name="cyl[-45]" X="520" Y="290" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_rail_m_45 = 0" />
          <Action ID="815" Name="cyl[droit]" X="600" Y="350" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_droit = 0" />
          <Action ID="816" Name="cyl[gauche]" X="680" Y="270" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_gauche = 0" />
          <Action ID="817" Name="cyl[debut]" X="700" Y="190" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_sortie = 0" />
          <Action ID="818" Name="boules[debut]" X="880" Y="200" Active="false" RequiredTokens="1" Radius="20" Function="$is_boules = 0" />
          <Action ID="819" Name="cyl[fond]" X="740" Y="100" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_fond = 0" />
          <Action ID="820" Name="cyl[bas_droite]" X="840" Y="90" Active="false" RequiredTokens="1" Radius="20" Function="$is_cyl_bas_droite = 0" />
        </States>
        <Transitions>
          <Transition ID="821" Name="404" X="230" Y="230" BeforeID="808" AfterID="809" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="82.462112512353215" />
          <Transition ID="822" Name="405" X="260" Y="300" BeforeID="809" AfterID="810" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100" />
          <Transition ID="823" Name="408" X="340" Y="310" BeforeID="810" AfterID="811" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="89.442719099991592" />
          <Transition ID="824" Name="532" X="390" Y="230" BeforeID="811" AfterID="812" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="121.6552506059644" />
          <Transition ID="825" Name="486" X="450" Y="180" BeforeID="812" AfterID="813" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="101.9803902718557" />
          <Transition ID="826" Name="488" X="510" Y="240" BeforeID="813" AfterID="814" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="101.9803902718557" />
          <Transition ID="827" Name="492" X="560" Y="320" BeforeID="814" AfterID="815" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100" />
          <Transition ID="828" Name="494" X="640" Y="310" BeforeID="815" AfterID="816" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="113.13708498984761" />
          <Transition ID="829" Name="496" X="690" Y="230" BeforeID="816" AfterID="817" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="82.462112512353215" />
          <Transition ID="830" Name="720" X="895" Y="250" BeforeID="818" AfterID="807" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="104.4030650891055" />
          <Transition ID="831" Name="1258" X="720" Y="145" BeforeID="817" AfterID="819" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="98.488578017961046" />
          <Transition ID="832" Name="1261" X="790" Y="95" BeforeID="819" AfterID="820" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="100.4987562112089" />
          <Transition ID="833" Name="1262" X="860" Y="145" BeforeID="820" AfterID="818" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="117.04699910719626" />
        </Transitions>
      </PetriNet>
      <Action ID="30" Name="End" X="680" Y="1340" Active="false" RequiredTokens="0" Radius="20" Function="Petri::Utility::doNothing()" />
      <PetriNet ID="31" Name="rail[-45]" X="510" Y="880" Active="false" RequiredTokens="1" Radius="30">
        <Comments>
          <Comment ID="834" Name="$rail_m_45 == $rail_-45" X="500" Y="440" Width="184" Height="27" R="1" G="1" B="0.7" A="1" />
          <Comment ID="835" Name="WARNING : on considère que tout va bien se passer dans poserCylindres" X="460" Y="80" Width="176" Height="78" R="1" G="0.7" B="0.7" A="1" />
        </Comments>
        <States>
          <Exit ID="836" Name="End" X="730" Y="320" Active="false" RequiredTokens="1" Radius="25" Function="Petri::Utility::doNothing()" />
          <Action ID="837" Name="270" X="230" Y="200" Active="true" RequiredTokens="0" Radius="20" Function="allerA(75_cm, 65_cm)" />
          <Action ID="838" Name="164" X="330" Y="160" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-45_deg)" />
          <Action ID="839" Name="406" X="440" Y="150" Active="false" RequiredTokens="2" Radius="20" Function="avancerDe(10_cm, SensAvance::Avant)" />
          <Action ID="840" Name="890" X="558" Y="320" Active="false" RequiredTokens="1" Radius="20" Function="reculerDe(20_cm)" />
          <Action ID="841" Name="866" X="380" Y="220" Active="false" RequiredTokens="1" Radius="20" Function="setVitesseAngulaireRapide()" />
          <Action ID="842" Name="869" X="577" Y="188" Active="false" RequiredTokens="1" Radius="20" Function="resetVitesseLineaire()" />
        </States>
        <Transitions>
          <Transition ID="843" Name="165" X="280" Y="180" BeforeID="837" AfterID="838" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="107.70329614269008" />
          <Transition ID="844" Name="950" X="385" Y="155" BeforeID="838" AfterID="839" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="110.45361017187261" />
          <Transition ID="845" Name="892" X="644" Y="320" BeforeID="840" AfterID="836" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="172" />
          <Transition ID="846" Name="867" X="355" Y="190" BeforeID="838" AfterID="841" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="78.10249675906654" />
          <Transition ID="847" Name="868" X="410" Y="185" BeforeID="841" AfterID="839" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="92.195444572928878" />
          <Transition ID="848" Name="870" X="508.5" Y="169" BeforeID="839" AfterID="842" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="142.1724305201258" />
          <Transition ID="849" Name="871" X="567.5" Y="254" BeforeID="842" AfterID="840" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="133.3604139165742" />
        </Transitions>
      </PetriNet>
      <Action ID="32" Name="923" X="625" Y="742" Active="false" RequiredTokens="1" Radius="20" Function="allerA(1_m, 1.1_m, SensAvance::Avant)" />
      <Action ID="33" Name="924" X="728" Y="783" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(90_deg)" />
      <Action ID="34" Name="928" X="459" Y="806" Active="false" RequiredTokens="1" Radius="20" Function="allerA(1.70_m, 1.8_m, SensAvance::Avant)" />
      <Action ID="35" Name="930" X="497" Y="743" Active="true" RequiredTokens="0" Radius="20" Function="Petri::Utility::pause(70s)" />
      <Action ID="36" Name="931" X="560" Y="630" Active="false" RequiredTokens="1" Radius="20" Function="reculerDe(30_cm)" />
      <Action ID="37" Name="932" X="427" Y="712" Active="false" RequiredTokens="1" Radius="20" Function="tournerAbsolu(-90_deg)" />
      <Action ID="38" Name="939" X="640" Y="650" Active="false" RequiredTokens="2" Radius="20" Function="avancerDe(1_m, SensAvance::Avant)" />
    </States>
    <Transitions>
      <Transition ID="850" Name="208" X="1271" Y="111" BeforeID="15" AfterID="14" Condition="true" W="50" H="30" ShiftX="1" ShiftY="1" ShiftAmplitude="100" />
      <Transition ID="851" Name="462" X="2050" Y="910" BeforeID="18" AfterID="12" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="121.6552506059644" />
      <Transition ID="852" Name="795" X="1190.6550951635929" Y="488.2488872035309" BeforeID="20" AfterID="21" Condition="$is_cyl_gauche == 1" W="50" H="30" ShiftX="-9.3449048364070677" ShiftY="-21.7511127964691" ShiftAmplitude="164.92422502470643" />
      <Transition ID="853" Name="829" X="1233.2076288522235" Y="579.68732543630529" BeforeID="20" AfterID="22" Condition="$is_cyl_gauche == 0" W="50" H="30" ShiftX="-16.792371147776521" ShiftY="29.687325436305287" ShiftAmplitude="263.05892875931812" />
      <Transition ID="854" Name="698" X="1346.4768467370295" Y="519.40774138333825" BeforeID="21" AfterID="22" Condition="true" W="50" H="30" ShiftX="16.476846737029518" ShiftY="-10.592258616661752" ShiftAmplitude="128.06248474865697" />
      <Transition ID="855" Name="665" X="1208.3478342653736" Y="317.17771672282288" BeforeID="16" AfterID="19" Condition="true" W="50" H="30" ShiftX="-11.652165734626351" ShiftY="-32.822283277177121" ShiftAmplitude="164.92422502470643" />
      <Transition ID="856" Name="841" X="1342.2857972257691" Y="373.04699320044108" BeforeID="19" AfterID="23" Condition="true" W="50" H="30" ShiftX="2.2857972257691017" ShiftY="-6.9530067995589206" ShiftAmplitude="128.06248474865697" />
      <Transition ID="857" Name="866" X="1141.9293201253643" Y="701.04004308782726" BeforeID="25" AfterID="26" Condition="$cylindres_fusee &gt; 0" W="50" H="30" ShiftX="-28.070679874635744" ShiftY="1.0400430878272573" ShiftAmplitude="126.49110640673517" />
      <Transition ID="858" Name="777" X="1215.9311455911552" Y="662.86303182445533" BeforeID="26" AfterID="25" Condition="true" W="50" H="30" ShiftX="45.9311455911552" ShiftY="-37.136968175544666" ShiftAmplitude="126.49110640673517" />
      <Transition ID="859" Name="1512" X="640" Y="170" BeforeID="17" AfterID="24" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="180" />
      <Transition ID="860" Name="862" X="537.68365688638426" Y="1107.3163431136152" BeforeID="27" AfterID="28" Condition="true" W="50" H="30" ShiftX="-12.316343113615744" ShiftY="12.316343113615176" ShiftAmplitude="222.03603311174518" />
      <Transition ID="861" Name="721" X="540" Y="1200" BeforeID="29" AfterID="27" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="215.40659228538016" />
      <Transition ID="862" Name="887" X="485" Y="955" BeforeID="28" AfterID="31" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="158.11388300841898" />
      <Transition ID="863" Name="926" X="676.5" Y="762.5" BeforeID="32" AfterID="33" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="110.86027241532469" />
      <Transition ID="864" Name="927" X="729" Y="846.5" BeforeID="33" AfterID="11" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="127.01574705523721" />
      <Transition ID="865" Name="929" X="484.5" Y="843" BeforeID="31" AfterID="34" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="89.872131386765275" />
      <Transition ID="866" Name="933" X="443" Y="759" BeforeID="34" AfterID="37" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="99.297532698451278" />
      <Transition ID="867" Name="934" X="479.33634381082703" Y="602.84961835842137" BeforeID="37" AfterID="36" Condition="true" W="50" H="30" ShiftX="-14.163656189172968" ShiftY="-68.150381641578633" ShiftAmplitude="156.24659996300718" />
      <Transition ID="868" Name="942" X="600" Y="640" BeforeID="36" AfterID="38" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="82.462112512353215" />
      <Transition ID="869" Name="943" X="568.5" Y="696.5" BeforeID="35" AfterID="38" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="170.58135888777531" />
      <Transition ID="870" Name="944" X="632.5" Y="696" BeforeID="38" AfterID="32" Condition="true" W="50" H="30" ShiftX="0" ShiftY="0" ShiftAmplitude="93.2148056909416" />
    </Transitions>
  </PetriNet>
</Document>